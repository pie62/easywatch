<div class="page-title">
	<div class="title_left">
		<h3>เพิ่มสินค้า</h3>
	</div>

	<div class="title_right">
		
	</div>
</div>
<div class="clearfix"></div>

<div class="row">

	<div class="col-md-12 col-sm-12 col-xs-12" id="datases">
		<div class="x_panel">    <!-- style="height:600px;" -->
			<div class="x_title">
				<h2>ข้อมูลสินค้า</h2>
				<!-- <ul class="nav navbar-right panel_toolbox">
					<li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
					</li>
					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
						<ul class="dropdown-menu" role="menu">
							<li><a href="#">Settings 1</a>
							</li>
							<li><a href="#">Settings 2</a>
							</li>
						</ul>
					</li>
					<li><a class="close-link"><i class="fa fa-close"></i></a>
					</li>
				</ul> -->
				<div class="clearfix"></div>
			</div>
			<div class="x_content">
	
				<div class="row  beforeAdd">
					<div class="col-md-12 col-xs-12">

						<form class="form-horizontal">
							<div class="form-group">
							    <label class="col-sm-2 col-xs-12 control-label">ยี่ห้อ</label>
							    <div class="col-sm-4 col-xs-12">
							      	<select class="form-control" ng-model="pd_brand_id" ng-options="item as item.brand_name for item in pdBrand | orderBy:'brand_name'">
				                        <option value="" disabled selected>เลือกยี่ห้อสินค้า</option>
				                    </select>
							    </div>
							    <div class="col-sm-6 col-xs-12">
							    	<button type="button" ng-click="openAddBrand()" class="btn btn-default btn-xs">เพิ่มยี่ห้อ..</button>
							    </div>
						  	</div>
						  	<div class="form-group">
							    <label class="col-sm-2 col-xs-12 control-label">รุ่น</label>
							    <div class="col-sm-4 col-xs-12">
							      	<input type="text" class="form-control" ng-model="pd_model" placeholder="ป้อนชื่อรุ่นสินค้า">
							    </div>
						  	</div>
						  	<div class="form-group">
							    <label class="col-sm-2 col-xs-12 control-label">ราคา (บาท)</label>
							    <div class="col-sm-4 col-xs-12">
							      	<input type="number" class="form-control" ng-model="pd_price" placeholder="ป้อนราคา ตัวเลขเท่านั้น">
							    </div>
						  	</div>
						  	<div class="form-group">
							    <label class="col-sm-2 col-xs-12 control-label">จำนวน (ชิ้น)</label>
							    <div class="col-sm-4 col-xs-12">
							      	<input type="number" class="form-control" ng-model="pd_unit" placeholder="ป้อนจำนวน ตัวเลขเท่านั้น">
							    </div>
						  	</div><br>
						
						  	<div class="form-group">
							    <label class="col-sm-2 col-xs-12 control-label">สี *</label>
							    <div class="col-sm-4 col-xs-12">
							      	<input type="text" class="form-control" ng-model="pd_color" placeholder="ป้อนข้อมูลสี">
							    </div>
						  	</div>
						  	<div class="form-group">
							    <label class="col-sm-2 col-xs-12 control-label">การรับประกัน *</label>
							    <div class="col-sm-4 col-xs-12">
							      	<select class="form-control" ng-model="pd_wrt" ng-options="w as w for w in wrt">
				                        <option value="" selected>ไม่มี</option>
				                    </select>
							    </div>
						  	</div>
						  	<div class="form-group">
			                    <label class="col-sm-2 col-xs-12 control-label">รายละเอียด *</label>
			                    <div class="col-sm-10 col-xs-12">
			                    	<!-- <textarea ng-model="pd_detail" class="form-control" rows="3"></textarea> -->
			                    	<text-angular ng-model="pd_detail"></text-angular>
			                    	<span id="helpBlock" class="help-block">* หมายถึง สามารถเว้นว่างได้</span>
			                    </div>
			                </div>

			                <div class="form-group">
			                	<button type="button" id="addpd" class="btn btn-primary pull-right" ng-click=" addProduct()" ng-disabled="!pd_brand_id || !pd_model || !pd_price || !pd_unit">
					                <span class="glyphicon glyphicon-floppy-save" aria-hidden="true"></span> เสร็จสิ้น
					            </button>
			                </div>
						</form>
					
					</div>
				</div>

				<div class="row  afterAdd">
					<div class="col-md-3 col-xs-12">
						<div class="alert alert-success" role="alert">
							<strong>
								<h4><span class="glyphicon glyphicon-ok" aria-hidden="true"></span> เพิ่มข้อมูลสินค้าแล้ว</h4>
							</strong>
							<div class="row">
								<div class="col-md-4">
									<strong>ยี่ห้อ:</strong>
								</div>
								<div class="col-md-8">
									{{pd_brand_id.brand_name}}
								</div>
							</div>
							<div class="row">
								<div class="col-md-4">
									<strong>รุ่น:</strong>
								</div>
								<div class="col-md-8">
									{{pd_model}}
								</div>
							</div>
							<div class="row">
								<div class="col-md-4">
									<strong>ราคา:</strong>
								</div>
								<div class="col-md-8">
									{{pd_price}}  บาท
								</div>
							</div>
							<div class="row">
								<div class="col-md-4">
									<strong>จำนวน:</strong>
								</div>
								<div class="col-md-8">
									{{pd_unit}}  ชิ้น
								</div>
							</div>
							<div class="row">
								<div class="col-md-4">
									<strong>สี:</strong>
								</div>
								<div class="col-md-8">
									{{pd_color}}
								</div>
							</div>
							<div class="row">
								<div class="col-md-4">
									<strong>การรับประกัน:</strong>
								</div>
								<div class="col-md-8">
									{{pd_wrt}}
								</div>
							</div>
							<!-- <div class="row">
								<div class="col-md-4">
									<strong>รายละเอียด:</strong>
								</div>
								<div class="col-md-8">
									{{pd_detail}}
								</div>
							</div> -->
						</div>		
					</div>
					<div class="col-md-9 col-xs-12">
						<h4>เพิ่มรูปภาพสำหรับสินค้า</h4>
				        <p>จำนวน: {{ uploader.queue.length }}</p>

				        <table class="table">   <!-- ng-hide="!uploader.queue.length" -->
				           <thead>
				                <tr>
				                    <th width="50%">ชื่อภาพ</th>
				                    <th ng-show="uploader.isHTML5">ขนาด</th>
				                    <th ng-show="uploader.isHTML5">ความคืบหน้า</th>
				                    <th>สถานะ</th>
				                    <th>ต้องการลบ?</th>
				                </tr>
				            </thead>
				            <tbody>
				                <tr ng-repeat="item in uploader.queue">
				                    <td>
				                        <strong>{{ item.file.name }}</strong>
				                        <!-- Image preview -->
				                        <!--auto height-->
				                        <!--<div ng-thumb="{ file: item.file, width: 100 }"></div>-->
				                        <!--auto width-->
				                        <div ng-show="uploader.isHTML5" ng-thumb="{ file: item._file, height: 100 }"></div>
				                        <!--fixed width and height -->
				                        <!--<div ng-thumb="{ file: item.file, width: 100, height: 100 }"></div>-->
				                    </td>
				                    <td ng-show="uploader.isHTML5" nowrap>{{ item.file.size/1024/1024|number:2 }} MB</td>
				                    <td ng-show="uploader.isHTML5">
				                        <div class="progress" style="margin-bottom: 0;">
				                            <div class="progress-bar" role="progressbar" ng-style="{ 'width': item.progress + '%' }"></div>
				                            </div>
				                    </td>
				                    <td class="text-center">
				                        <span ng-show="item.isSuccess"><i class="glyphicon glyphicon-ok"></i></span>
				                        <span ng-show="item.isCancel"><i class="glyphicon glyphicon-ban-circle"></i></span>
				                        <span ng-show="item.isError"><i class="glyphicon glyphicon-remove"></i></span>
				                    </td>
				                    <td nowrap>
				                        <button type="button" class="btn btn-danger btn-xs" ng-click="item.remove()">
				                            <span class="glyphicon glyphicon-trash"></span> Remove
				                        </button>
				                    </td>
				                </tr>
				            </tbody>
				        </table>
				        <span class="btn btn-info btn-file btn-sm">
				            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> เพิ่มรูปภาพ.. 
				                <input type="file" nv-file-select="" uploader="uploader" multiple>
				            </span>
				        <span id="helpBlock" class="help-block">แนะนำชื่อไฟล์ภาษาอังกฤษ และไฟล์ภาพชนิด .jpg หรือ .png</span>
				        <div class="progress" style="">
				            <div class="progress-bar" role="progressbar" ng-style="{ 'width': uploader.progress + '%' }"></div>
				        </div>
				        <button type="button" class="btn btn-primary pull-right" ng-click="addImg()" ng-disabled="!uploader.queue.length"> <!-- uploader.uploadAll -->
			                <span class="glyphicon glyphicon-floppy-save" aria-hidden="true"></span> ตกลง
			            </button>
					</div>
				</div>
				
				

			</div>
		</div>
	</div>

</div>

<div class="modal fade" id="add_brand">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">เพิ่มยี่ห้อสินค้า</h4>
            </div>
            <div class="modal-body">
                <input type="text" ng-model="bname" class="form-control" placeholder="ป้อนชื่อยี่ห้อที่ต้องการเพิ่ม">
            </div>
            <div class="modal-footer">
                <!-- <button type="button" class="btn btn-default" data-dismiss="modal">ยกเลิก</button> -->
                <button type="button" ng-click="addBrand()" ng-disabled="!bname" class="btn btn-primary">ตกลง</button>
            </div>
        </div>
    </div>
</div>

<script>
	$('.afterAdd').hide();
	$('#addpd').click(function() {
	 	$(".beforeAdd").hide();
	 	$(".afterAdd").fadeIn('slow');
	 });
</script>